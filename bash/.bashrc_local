# Personal bashrc things

# 1) This file should exist as ~/.bashrc_local
# 2) Copy this to ~/.bashrc
#
# if [[ -r ~/.bashrc_local ]]; then
#	. ~/.bashrc_local
# fi

# -- Use mg as editor
export EDITOR=/usr/bin/mg

# -- Git bash completion
source /etc/bash_completion.d/git-prompt

# -- Fancy prompt
export PS1='[\[\033[0;35m\]$(hostname) \[\033[0;32m\]\W\[\033[0m\]$(__git_ps1 " (\[\033[0;33m\]%s\[\033[0m\])")] $ '

# -- Go stuff
export PATH=${PATH}:/usr/local/go/bin
export GOPATH=${HOME}/Documents/go
export PATH=${PATH}:${GOPATH}/bin
export CDPATH=.:${GOPATH}/src/indeed/devops:${GOPATH}/src/indeed/gophers

# -- Aliases
alias mv='mv --interactive'
alias cp='cp --interactive'
alias rm='rm --interactive'
alias ls='ls --color'
alias sl='ls --color'
alias xclip='xclip -selection c'
alias gs='git status'
alias diff='colordiff'
alias tree='tree -a'
alias cover-html='go test -coverprofile=/tmp/cover.out && go tool cover -html=/tmp/cover.out'
alias authors='git log | grep "Author: " | cut -d" " -f2,3 | sort | uniq -c | sort -nr'

# -- Functions
function docker-cleanup {
    docker rm -v $(docker ps --filter status=exited -q 2>/dev/null) 2>/dev/null
    docker rmi $(docker images --filter dangling=true -q 2>/dev/null) 2>/dev/null
    docker volume rm $(docker volume ls -q -f 'dangling=true') 2>/dev/null
}
